!function(){"use strict";function t(){}const e=t=>t;function n(t,e,n,o,i){t.__svelte_meta={loc:{file:e,line:n,column:o,char:i}}}function o(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(o)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function l(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function d(e){return e&&s(e.destroy)?e.destroy:t}const u="undefined"!=typeof window;let h=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const m=new Set;function p(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&f(p)}const g="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function y(t,e){t.appendChild(e)}function v(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function w(t){const e=$("style");return function(t,e){y(t.head||t,e),e.sheet}(v(t),e),e.sheet}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function E(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function D(){return x(" ")}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:_(t,e,n)}function O(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function k(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}function C(t){const e={};for(const n of t)e[n.name]=n.value;return e}const A=new Map;let S,R=0;function L(t,e,n,o,i,r,s,a=0){const c=16.666/o;let l="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);l+=100*t+`%{${s(o,1-o)}}\n`}const d=l+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${a}`,h=v(t),{stylesheet:f,rules:m}=A.get(h)||function(t,e){const n={stylesheet:w(e),rules:{}};return A.set(t,n),n}(h,t);m[u]||(m[u]=!0,f.insertRule(`@keyframes ${u} ${d}`,f.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${u} ${o}ms linear ${i}ms 1 both`,R+=1,u}function I(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),R-=i,R||f((()=>{R||(A.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&b(e)})),A.clear())})))}function N(n,o,i,r){if(!o)return t;const s=n.getBoundingClientRect();if(o.left===s.left&&o.right===s.right&&o.top===s.top&&o.bottom===s.bottom)return t;const{delay:a=0,duration:c=300,easing:l=e,start:d=h()+a,end:u=d+c,tick:g=t,css:y}=i(n,{from:o,to:s},r);let v,w=!0,b=!1;function E(){y&&I(n,v),w=!1}return function(t){let e;0===m.size&&f(p),new Promise((n=>{m.add(e={c:t,f:n})}))}((t=>{if(!b&&t>=d&&(b=!0),b&&t>=u&&(g(1,0),E()),!w)return!1;if(b){const e=0+1*l((t-d)/c);g(e,1-e)}return!0})),y&&(v=L(n,0,1,c,a,l,y)),a||(b=!0),g(0,1),E}function M(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),i="none"===o.transform?"":o.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,i)}}function P(t){S=t}function j(){if(!S)throw new Error("Function called outside component initialization");return S}const B=[],F=[];let z=[];const G=[],W=Promise.resolve();let U=!1;function H(t){z.push(t)}const Y=new Set;let q=0;function Z(){if(0!==q)return;const t=S;do{try{for(;q<B.length;){const t=B[q];q++,P(t),X(t.$$)}}catch(t){throw B.length=0,q=0,t}for(P(null),B.length=0,q=0;F.length;)F.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];Y.has(e)||(Y.add(e),e())}z.length=0}while(B.length);for(;G.length;)G.pop()();U=!1,Y.clear(),P(t)}function X(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const V=new Set;function K(t,e){t&&t.i&&(V.delete(t),t.i(e))}function J(t,e){t.f(),function(t,e){t.d(1),e.delete(t.key)}(t,e)}function Q(t,e,n,o){const i=new Set;for(let r=0;r<e.length;r++){const s=o(n(t,e,r));if(i.has(s))throw new Error("Cannot have duplicate keys in a keyed each");i.add(s)}}function tt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];z.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),z=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,e){-1===t.$$.dirty[0]&&(B.push(t),U||(U=!0,W.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(e,n,a,c,l,d,u,h=[-1]){const f=S;P(e);const m=e.$$={fragment:null,ctx:[],props:d,update:t,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:i(),dirty:h,skip_bound:!1,root:n.target||f.$$.root};u&&u(m.root);let p=!1;if(m.ctx=a?a(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return m.ctx&&l(m.ctx[t],m.ctx[t]=i)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](i),p&&et(e,t)),n})):[],m.update(),p=!0,r(m.before_update),m.fragment=!!c&&c(m.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);m.fragment&&m.fragment.l(t),t.forEach(b)}else m.fragment&&m.fragment.c();n.intro&&K(e.$$.fragment),function(t,e,n,i){const{fragment:a,after_update:c}=t.$$;a&&a.m(e,n),i||H((()=>{const e=t.$$.on_mount.map(o).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(H)}(e,n.target,n.anchor,n.customElement),Z()}P(f)}let ot;function it(t,e){document.dispatchEvent(k(t,Object.assign({version:"3.59.2"},e),{bubbles:!0}))}function rt(t,e){it("SvelteDOMInsert",{target:t,node:e}),y(t,e)}function st(t,e,n){it("SvelteDOMInsert",{target:t,node:e,anchor:n}),function(t,e,n){t.insertBefore(e,n||null)}(t,e,n)}function at(t){it("SvelteDOMRemove",{node:t}),b(t)}function ct(t,e,n,o,i,r,s){const a=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];i&&a.push("preventDefault"),r&&a.push("stopPropagation"),s&&a.push("stopImmediatePropagation"),it("SvelteDOMAddEventListener",{node:t,event:e,handler:n,modifiers:a});const c=function(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}(t,e,n,o);return()=>{it("SvelteDOMRemoveEventListener",{node:t,event:e,handler:n,modifiers:a}),c()}}function lt(t,e,n){_(t,e,n),null==n?it("SvelteDOMRemoveAttribute",{node:t,attribute:e}):it("SvelteDOMSetAttribute",{node:t,attribute:e,value:n})}function dt(t,e){e=""+e,t.data!==e&&(it("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function ut(t){if(!("string"==typeof t||t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function ht(t,e,n){for(const o of Object.keys(e))~n.indexOf(o)||console.warn(`<${t}> received an unexpected slot "${o}".`)}"function"==typeof HTMLElement&&(ot=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(o).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){tt(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});const ft=864e5;function mt(t,e){var n,o;const i=6e4*(new Date).getTimezoneOffset(),r=Date.now()-i,s=Date.parse(null===(o=null===(n=null==t?void 0:t.states)||void 0===n?void 0:n[null==e?void 0:e.id])||void 0===o?void 0:o.state)||r;return Math.floor((r-s)/ft)}function pt(t,e,n){const o=e.states[n.id].attributes.friendly_name,i=n.id,r=6e4*(new Date).getTimezoneOffset(),s=function(t,e,n,o){const i=document.createElement("ha-call-service-button");return i.hass=t,i.confirmation=e,i.domain="input_datetime",i.service="set_datetime",i.serviceData={entity_id:n,date:o},i.style.display="none",i}(e,`Do you want to reset ${o}?`,i,new Date(Date.now()-r).toISOString().split("T")[0]);t.target.appendChild(s),s._buttonTapped(),t.target.removeChild(s)}const{Object:gt}=g,yt="src/DatetimeCard.svelte";function vt(t,e,n){const o=t.slice();return o[7]=e[n],o}function wt(t){let e,o;const i={c:function(){e=$("h1"),o=x(t[3]),lt(e,"class","card-header"),n(e,yt,30,2,1051)},m:function(t,n){st(t,e,n),rt(e,o)},p:function(t,e){8&e&&dt(o,t[3])},d:function(t){t&&at(e)}};return it("SvelteRegisterBlock",{block:i,id:wt.name,type:"if",source:"(30:1) {#if !!header}",ctx:t}),i}function bt(t){let e,o;const i={c:function(){e=$("img"),l(e.src,o=t[5])||lt(e,"src",o),lt(e,"alt","card-pict"),n(e,yt,39,3,1215)},m:function(t,n){st(t,e,n)},p:function(t,n){32&n&&!l(e.src,o=t[5])&&lt(e,"src",o)},d:function(t){t&&at(e)}};return it("SvelteRegisterBlock",{block:i,id:bt.name,type:"if",source:"(39:2) {#if !!src}",ctx:t}),i}function Et(t){let e,o,i,r,s,a,c,l;const d={c:function(){e=$("datetime-icon"),i=D(),r=$("datetime-bar"),a=D(),c=$("datetime-label"),T(e,"role","listitem"),T(e,"entity",o=t[7]),T(e,"hass",t[0]),n(e,yt,44,4,1309),T(r,"entity",s=t[7]),T(r,"hass",t[0]),T(r,"shownames",t[4]),n(r,yt,46,4,1364),T(c,"entity",l=t[7]),T(c,"hass",t[0]),n(c,yt,48,4,1414)},m:function(t,n){st(t,e,n),st(t,i,n),st(t,r,n),st(t,a,n),st(t,c,n)},p:function(t,n){2&n&&o!==(o=t[7])&&T(e,"entity",o),1&n&&T(e,"hass",t[0]),2&n&&s!==(s=t[7])&&T(r,"entity",s),1&n&&T(r,"hass",t[0]),16&n&&T(r,"shownames",t[4]),2&n&&l!==(l=t[7])&&T(c,"entity",l),1&n&&T(c,"hass",t[0])},d:function(t){t&&at(e),t&&at(i),t&&at(r),t&&at(a),t&&at(c)}};return it("SvelteRegisterBlock",{block:d,id:Et.name,type:"each",source:"(44:3) {#each entities as entity}",ctx:t}),d}function $t(e){let o,i,r,s,a,c=!!e[3]&&wt(e),l=!!e[5]&&bt(e),d=e[1];ut(d);let u=[];for(let t=0;t<d.length;t+=1)u[t]=Et(vt(e,d,t));const h={c:function(){o=$("ha-card"),c&&c.c(),i=D(),r=$("div"),l&&l.c(),s=D(),a=$("div");for(let t=0;t<u.length;t+=1)u[t].c();this.c=t,lt(a,"class","grid"),n(a,yt,42,2,1256),lt(r,"data-testid","card-content"),lt(r,"class","card-content"),O(r,"flex-direction",e[2]),n(r,yt,33,1,1098),n(o,yt,28,0,1023)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){st(t,o,e),c&&c.m(o,null),rt(o,i),rt(o,r),l&&l.m(r,null),rt(r,s),rt(r,a);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(a,null)},p:function(t,[e]){if(t[3]?c?c.p(t,e):(c=wt(t),c.c(),c.m(o,i)):c&&(c.d(1),c=null),t[5]?l?l.p(t,e):(l=bt(t),l.c(),l.m(r,s)):l&&(l.d(1),l=null),19&e){let n;for(d=t[1],ut(d),n=0;n<d.length;n+=1){const o=vt(t,d,n);u[n]?u[n].p(o,e):(u[n]=Et(o),u[n].c(),u[n].m(a,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=d.length}4&e&&O(r,"flex-direction",t[2])},i:t,o:t,d:function(t){t&&at(o),c&&c.d(),l&&l.d(),E(u,t)}};return it("SvelteRegisterBlock",{block:h,id:$t.name,type:"component",source:"",ctx:e}),h}const xt="https://demo.home-assistant.io/stub_config/t-shirt-promo.png",Dt="Datetime Card";function _t(t){const e=(null==t?void 0:t.states)||{},n=Object.keys(e).find((t=>t.startsWith("input_datetime"))),o=2*mt(t,{id:n});return n?[{id:n,max:o}]:[]}function Tt(t,e,n){let o,{$$slots:i={},$$scope:r}=e;ht("datetime-card",i,[]);let{hass:s}=e;function a(t){n(1,o=t.entities),n(3,c=void 0!==t.title?t.title:Dt),n(4,l=t.show_names||!1),n(2,u=t.flex_direction||"row"),n(5,d=void 0!==t.image?t.image:xt)}let c,l,d,u="row";const h=["hass"];return gt.keys(e).forEach((t=>{~h.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<datetime-card> was created with unknown prop '${t}'`)})),t.$$set=t=>{"hass"in t&&n(0,s=t.hass)},t.$capture_state=()=>({getState:mt,DEFAULT_SRC:xt,DEFAULT_TITLE:Dt,getDefaultEntities:_t,hass:s,setConfig:a,flex_direction:u,header:c,shownames:l,src:d,entities:o}),t.$inject_state=t=>{"hass"in t&&n(0,s=t.hass),"flex_direction"in t&&n(2,u=t.flex_direction),"header"in t&&n(3,c=t.header),"shownames"in t&&n(4,l=t.shownames),"src"in t&&n(5,d=t.src),"entities"in t&&n(1,o=t.entities)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{3&t.$$.dirty&&n(1,o=o||_t(s))},[s,o,u,c,l,d,a]}class Ot extends ot{constructor(t){super();const e=document.createElement("style");e.textContent=".card-header{overflow:hidden;text-overflow:ellipsis !important;white-space:nowrap}.card-content{display:flex;justify-content:center;align-items:center}img{max-width:40%}.grid{display:grid;flex-grow:1;grid-template-columns:24px auto min-content;margin:10px;gap:10px;align-items:center;width:100%}datetime-label{justify-self:end}",this.shadowRoot.appendChild(e),nt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},Tt,$t,a,{hass:0,setConfig:6},null),t&&(t.target&&st(t.target,this,t.anchor),t.props&&(this.$set(t.props),Z()))}static get observedAttributes(){return["hass","setConfig"]}get hass(){return this.$$.ctx[0]}set hass(t){this.$$set({hass:t}),Z()}get setConfig(){return this.$$.ctx[6]}set setConfig(t){throw new Error("<datetime-card>: Cannot set read-only property 'setConfig'")}}customElements.define("datetime-card",Ot);const kt="finalize",Ct="consider";function At(t,e,n){t.dispatchEvent(new CustomEvent(kt,{detail:{items:e,info:n}}))}function St(t,e,n){t.dispatchEvent(new CustomEvent(Ct,{detail:{items:e,info:n}}))}const Rt="draggedEntered",Lt="draggedLeft",It="draggedOverIndex",Nt="draggedLeftDocument",Mt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Pt(t,e,n){t.dispatchEvent(new CustomEvent(Rt,{detail:{indexObj:e,draggedEl:n}}))}function jt(t,e,n){t.dispatchEvent(new CustomEvent(Lt,{detail:{draggedEl:e,type:Mt.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function Bt(t,e,n){t.dispatchEvent(new CustomEvent(It,{detail:{indexObj:e,draggedEl:n}}))}const Ft={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Rt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:It,DRAGGED_LEFT:Lt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},zt={POINTER:"pointer",KEYBOARD:"keyboard"},Gt="isDndShadowItem",Wt="data-is-dnd-shadow-item-internal",Ut="data-is-dnd-shadow-item-hint",Ht="id:dnd-shadow-placeholder-0000",Yt="dnd-action-dragged-el";let qt="id",Zt=0;function Xt(){Zt++}function Vt(){if(0===Zt)throw new Error("Bug! trying to decrement when there are no dropzones");Zt--}const Kt="undefined"==typeof window;function Jt(t){let e;const n=t.getBoundingClientRect(),o=getComputedStyle(t),i=o.transform;if(i){let r,s,a,c;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),r=+e[0],s=+e[5],a=+e[12],c=+e[13];else{if(!i.startsWith("matrix("))return n;e=i.slice(7,-1).split(/, /),r=+e[0],s=+e[3],a=+e[4],c=+e[5]}const l=o.transformOrigin,d=n.x-a-(1-r)*parseFloat(l),u=n.y-c-(1-s)*parseFloat(l.slice(l.indexOf(" ")+1)),h=r?n.width/r:t.offsetWidth,f=s?n.height/s:t.offsetHeight;return{x:d,y:u,width:h,height:f,top:u,right:d+h,bottom:u+f,left:d}}return n}function Qt(t){const e=Jt(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function te(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function ee(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function ne(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function oe(t){return ee(te(t))}function ie(t,e){return ne(oe(t),Qt(e))}function re(t,e){const n=oe(t),o=oe(e);return i=n,r=o,Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2));var i,r}let se;function ae(){se=new Map}function ce(t){se.delete(t)}function le(t,e){if(!ie(t,e))return null;const n=e.children;if(0===n.length)return{index:0,isProximityBased:!0};const o=function(t){const e=Array.from(t.children).findIndex((t=>t.getAttribute(Wt)));if(e>=0)return se.has(t)||se.set(t,new Map),se.get(t).set(e,Qt(t.children[e])),e}(e);for(let i=0;i<n.length;i++)if(ie(t,n[i])){const n=se.has(e)&&se.get(e).get(i);return n&&!ne(oe(t),n)?{index:o,isProximityBased:!1}:{index:i,isProximityBased:!1}}let i,r=Number.MAX_VALUE;for(let e=0;e<n.length;e++){const o=re(t,n[e]);o<r&&(r=o,i=e)}return{index:i,isProximityBased:!0}}ae();function de(){let t;function e(){t={directionObj:void 0,stepPx:0}}function n(e){const{directionObj:o,stepPx:i}=t;o&&(e.scrollBy(o.x*i,o.y*i),window.requestAnimationFrame((()=>n(e))))}function o(t){return 25-t}return e(),{scrollIfNeeded:function(i,r){if(!r)return!1;const s=function(t,e){const n=te(e);return ne(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}(i,r);if(null===s)return e(),!1;const a=!!t.directionObj;let[c,l]=[!1,!1];return r.scrollHeight>r.clientHeight&&(s.bottom<25?(c=!0,t.directionObj={x:0,y:1},t.stepPx=o(s.bottom)):s.top<25&&(c=!0,t.directionObj={x:0,y:-1},t.stepPx=o(s.top)),!a&&c)||r.scrollWidth>r.clientWidth&&(s.right<25?(l=!0,t.directionObj={x:1,y:0},t.stepPx=o(s.right)):s.left<25&&(l=!0,t.directionObj={x:-1,y:0},t.stepPx=o(s.left)),!a&&l)?(n(r),!0):(e(),!1)},resetScrolling:e}}function ue(t){return JSON.stringify(t,null,2)}function he(t){if(!t)throw new Error("cannot get depth of a falsy node");return fe(t,0)}function fe(t,e=0){return t.parentElement?fe(t.parentElement,e+1):e-1}const me=200,pe=10,{scrollIfNeeded:ge,resetScrolling:ye}=de();let ve;function we(t,e,n=me){let o,i,r,s=!1;const a=Array.from(e).sort(((t,e)=>he(e)-he(t)));!function e(){const c=oe(t),l=ge(c,o);if(!l&&r&&Math.abs(r.x-c.x)<pe&&Math.abs(r.y-c.y)<pe)return void(ve=window.setTimeout(e,n));if(function(t){const e=te(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}(t))return void function(t){window.dispatchEvent(new CustomEvent(Nt,{detail:{draggedEl:t}}))}(t);r=c;let d=!1;for(const e of a){l&&ce(o);const n=le(t,e);if(null===n)continue;const{index:r}=n;d=!0,e!==o?(o&&jt(o,t,e),Pt(e,n,t),o=e):r!==i&&(Bt(e,n,t),i=r);break}!d&&s&&o?(!function(t,e){t.dispatchEvent(new CustomEvent(Lt,{detail:{draggedEl:e,type:Mt.OUTSIDE_OF_ANY}}))}(o,t),o=void 0,i=void 0,s=!1):s=!0,ve=window.setTimeout(e,n)}()}const be=300;let Ee;function $e(t){const e=t.touches?t.touches[0]:t;Ee={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:xe,resetScrolling:De}=de();let _e;function Te(){if(Ee){xe(Ee,document.documentElement)&&ae()}_e=window.setTimeout(Te,be)}const Oe=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),ke={[Oe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function Ce(t){if(!Oe[t])throw new Error(`Can't get non existing feature flag ${t}! Supported flags: ${Object.keys(Oe)}`);return ke[t]}const Ae=.2;function Se(t){return`${t} ${Ae}s ease`}function Re(t,e,n,o){Le(e,t);const i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=i.width-r.width,a=i.height-r.height;if(s||a){const e={left:(n-r.left)/r.width,top:(o-r.top)/r.height};Ce(Oe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(t.style.height=`${i.height}px`,t.style.width=`${i.width}px`),t.style.left=parseFloat(t.style.left)-e.left*s+"px",t.style.top=parseFloat(t.style.top)-e.top*a+"px"}}function Le(t,e){const n=window.getComputedStyle(t);Array.from(n).filter((t=>t.startsWith("background")||t.startsWith("padding")||t.startsWith("font")||t.startsWith("text")||t.startsWith("align")||t.startsWith("justify")||t.startsWith("display")||t.startsWith("flex")||t.startsWith("border")||"opacity"===t||"color"===t||"list-style-type"===t||Ce(Oe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&("width"===t||"height"===t))).forEach((t=>e.style.setProperty(t,n.getPropertyValue(t),n.getPropertyPriority(t))))}function Ie(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function Ne(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function Me(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const o=e(t);Object.keys(o).forEach((e=>{t.style[e]=o[e]})),n(t).forEach((e=>t.classList.add(e)))}))}function Pe(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const o=e(t);Object.keys(o).forEach((e=>{t.style[e]=""})),n(t).forEach((e=>t.classList.contains(e)&&t.classList.remove(e)))}))}const je="--any--",Be=100,Fe=20,ze=3,Ge={outline:"rgba(255, 255, 102, 0.7) solid 2px"},We="data-is-dnd-original-dragged-item";let Ue,He,Ye,qe,Ze,Xe,Ve,Ke,Je,Qe,tn,en=!1,nn=!1,on=!1,rn=[];const sn=new Map,an=new Map,cn=new WeakMap;function ln(t,e){sn.get(e).delete(t),Vt(),0===sn.get(e).size&&sn.delete(e)}function dn(){window.addEventListener("mousemove",$e),window.addEventListener("touchmove",$e),Te();const t=sn.get(qe);for(const e of t)e.addEventListener(Rt,fn),e.addEventListener(Lt,mn),e.addEventListener(It,pn);window.addEventListener(Nt,yn);const e=Math.max(...Array.from(t.keys()).map((t=>an.get(t).dropAnimationDurationMs))),n=0===e?Fe:Math.max(e,Be);we(He,t,1.07*n)}function un(){window.removeEventListener("mousemove",$e),window.removeEventListener("touchmove",$e),Ee=void 0,window.clearTimeout(_e),De();const t=sn.get(qe);for(const e of t)e.removeEventListener(Rt,fn),e.removeEventListener(Lt,mn),e.removeEventListener(It,pn);window.removeEventListener(Nt,yn),clearTimeout(ve),ye(),ae()}function hn(t){return t.findIndex((t=>!!t[Gt]))}function fn(t){let{items:e,dropFromOthersDisabled:n}=an.get(t.currentTarget);if(n&&t.currentTarget!==Ze)return;if(on=!1,e=e.filter((t=>t[qt]!==Ve[qt])),Ze!==t.currentTarget){const t=an.get(Ze).items.filter((t=>!t[Gt]));St(Ze,t,{trigger:Ft.DRAGGED_ENTERED_ANOTHER,id:Ye[qt],source:zt.POINTER})}const{index:o,isProximityBased:i}=t.detail.indexObj,r=i&&o===t.currentTarget.children.length-1?o+1:o;Ke=t.currentTarget,e.splice(r,0,Ve),St(t.currentTarget,e,{trigger:Ft.DRAGGED_ENTERED,id:Ye[qt],source:zt.POINTER})}function mn(t){if(!en)return;const{items:e,dropFromOthersDisabled:n}=an.get(t.currentTarget);if(n&&t.currentTarget!==Ze&&t.currentTarget!==Ke)return;const o=hn(e),i=e.splice(o,1)[0];Ke=void 0;const{type:r,theOtherDz:s}=t.detail;if(r===Mt.OUTSIDE_OF_ANY||r===Mt.LEFT_FOR_ANOTHER&&s!==Ze&&an.get(s).dropFromOthersDisabled){on=!0,Ke=Ze;const t=an.get(Ze).items;t.splice(Xe,0,i),St(Ze,t,{trigger:Ft.DRAGGED_LEFT_ALL,id:Ye[qt],source:zt.POINTER})}St(t.currentTarget,e,{trigger:Ft.DRAGGED_LEFT,id:Ye[qt],source:zt.POINTER})}function pn(t){const{items:e,dropFromOthersDisabled:n}=an.get(t.currentTarget);if(n&&t.currentTarget!==Ze)return;on=!1;const{index:o}=t.detail.indexObj,i=hn(e);e.splice(i,1),e.splice(o,0,Ve),St(t.currentTarget,e,{trigger:Ft.DRAGGED_OVER_INDEX,id:Ye[qt],source:zt.POINTER})}function gn(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Qe={x:e.clientX,y:e.clientY},He.style.transform=`translate3d(${Qe.x-Je.x}px, ${Qe.y-Je.y}px, 0)`}function yn(){nn=!0,window.removeEventListener("mousemove",gn),window.removeEventListener("touchmove",gn),window.removeEventListener("mouseup",yn),window.removeEventListener("touchend",yn),un(),function(t){t.style.cursor="grab"}(He),Ke||(Ke=Ze);let{items:t,type:e}=an.get(Ke);Pe(sn.get(e),(t=>an.get(t).dropTargetStyle),(t=>an.get(t).dropTargetClasses));let n=hn(t);-1===n&&(n=Xe),t=t.map((t=>t[Gt]?Ye:t)),function(t,e){const n=Jt(Ke.children[t]),o={x:n.left-parseFloat(He.style.left),y:n.top-parseFloat(He.style.top)},{dropAnimationDurationMs:i}=an.get(Ke),r=`transform ${i}ms ease`;He.style.transition=He.style.transition?He.style.transition+","+r:r,He.style.transform=`translate3d(${o.x}px, ${o.y}px, 0)`,window.setTimeout(e,i)}(n,(function(){var e;tn(),At(Ke,t,{trigger:on?Ft.DROPPED_OUTSIDE_OF_ANY:Ft.DROPPED_INTO_ZONE,id:Ye[qt],source:zt.POINTER}),Ke!==Ze&&At(Ze,an.get(Ze).items,{trigger:Ft.DROPPED_INTO_ANOTHER,id:Ye[qt],source:zt.POINTER}),(e=Ke.children[n]).style.visibility="",e.removeAttribute(Wt),function(){He.remove(),Ue.remove(),rn.length&&(rn.forEach((({dz:t,destroy:e})=>{e(),t.remove()})),rn=[]);He=void 0,Ue=void 0,Ye=void 0,qe=void 0,Ze=void 0,Xe=void 0,Ve=void 0,Ke=void 0,Je=void 0,Qe=void 0,en=!1,nn=!1,tn=void 0,on=!1}()}))}function vn(t,e){let n=!1;const o={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ge,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function r(){window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(){r(),Ue=void 0,Je=void 0,Qe=void 0}function a(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Qe={x:e.clientX,y:e.clientY},(Math.abs(Qe.x-Je.x)>=ze||Math.abs(Qe.y-Je.y)>=ze)&&(r(),function(){en=!0;const t=i.get(Ue);Xe=t,Ze=Ue.parentElement;const e=Ze.closest("dialog")||Ze.getRootNode(),n=e.body||e,{items:r,type:s,centreDraggedOnCursor:a}=o;function c(){He.parentElement?window.requestAnimationFrame(c):(n.appendChild(He),He.focus(),dn(),Ne(Ue),n.appendChild(Ue))}Ye={...r[t]},qe=s,Ve={...Ye,[Gt]:!0,[qt]:Ht},He=function(t,e){const n=t.getBoundingClientRect(),o=function(t){const e=t.cloneNode(!0),n=[],o="SELECT"===t.tagName,i=o?[t]:[...t.querySelectorAll("select")];for(const t of i)n.push(t.value);if(i.length>0){const t=o?[e]:[...e.querySelectorAll("select")];for(let e=0;e<t.length;e++){const o=t[e],i=n[e],r=o.querySelector(`option[value="${i}"`);r&&r.setAttribute("selected",!0)}}const r="CANVAS"===t.tagName,s=r?[t]:[...t.querySelectorAll("canvas")];if(s.length>0){const t=r?[e]:[...e.querySelectorAll("canvas")];for(let e=0;e<t.length;e++){const n=s[e],o=t[e];o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0)}}return e}(t);Le(t,o),o.id=Yt,o.style.position="fixed";let i=n.top,r=n.left;if(o.style.top=`${i}px`,o.style.left=`${r}px`,e){const t=ee(n);i-=t.y-e.y,r-=t.x-e.x,window.setTimeout((()=>{o.style.top=`${i}px`,o.style.left=`${r}px`}),0)}return o.style.margin="0",o.style.boxSizing="border-box",o.style.height=`${n.height}px`,o.style.width=`${n.width}px`,o.style.transition=`${Se("top")}, ${Se("left")}, ${Se("background-color")}, ${Se("opacity")}, ${Se("color")} `,window.setTimeout((()=>o.style.transition+=`, ${Se("width")}, ${Se("height")}`),0),o.style.zIndex="9999",o.style.cursor="grabbing",o}(Ue,a&&Qe),Ue.setAttribute(We,!0),window.requestAnimationFrame(c),Me(Array.from(sn.get(o.type)).filter((t=>t===Ze||!an.get(t).dropFromOthersDisabled)),(t=>an.get(t).dropTargetStyle),(t=>an.get(t).dropTargetClasses)),r.splice(t,1,Ve),tn=function(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}(Ze),St(Ze,r,{trigger:Ft.DRAG_STARTED,id:Ye[qt],source:zt.POINTER}),window.addEventListener("mousemove",gn,{passive:!1}),window.addEventListener("touchmove",gn,{passive:!1,capture:!1}),window.addEventListener("mouseup",yn,{passive:!1}),window.addEventListener("touchend",yn,{passive:!1})}())}function c(t){if(t.target!==t.currentTarget&&(void 0!==t.target.value||t.target.isContentEditable))return;if(t.button)return;if(en)return;t.stopPropagation();const e=t.touches?t.touches[0]:t;Je={x:e.clientX,y:e.clientY},Qe={...Je},Ue=t.currentTarget,window.addEventListener("mousemove",a,{passive:!1}),window.addEventListener("touchmove",a,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function l({items:e,flipDurationMs:r=0,type:s=je,dragDisabled:a=!1,morphDisabled:l=!1,dropFromOthersDisabled:d=!1,dropTargetStyle:u=Ge,dropTargetClasses:h=[],transformDraggedElement:f=(()=>{}),centreDraggedOnCursor:m=!1}){function p(t,e){return an.get(t)?an.get(t)[e]:o[e]}var g,y;o.dropAnimationDurationMs=r,o.type&&s!==o.type&&ln(t,o.type),o.type=s,o.items=[...e],o.dragDisabled=a,o.morphDisabled=l,o.transformDraggedElement=f,o.centreDraggedOnCursor=m,!n||!en||nn||function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}(u,o.dropTargetStyle)&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(h,o.dropTargetClasses)||(Pe([t],(()=>o.dropTargetStyle),(()=>h)),Me([t],(()=>u),(()=>h))),o.dropTargetStyle=u,o.dropTargetClasses=[...h],n&&en&&o.dropFromOthersDisabled!==d&&(d?Pe([t],(t=>p(t,"dropTargetStyle")),(t=>p(t,"dropTargetClasses"))):Me([t],(t=>p(t,"dropTargetStyle")),(t=>p(t,"dropTargetClasses")))),o.dropFromOthersDisabled=d,an.set(t,o),g=t,y=s,sn.has(y)||sn.set(y,new Set),sn.get(y).has(g)||(sn.get(y).add(g),Xt());const v=hn(o.items);for(let e=0;e<t.children.length;e++){const r=t.children[e];Ie(r,a),e!==v?(r.removeEventListener("mousedown",cn.get(r)),r.removeEventListener("touchstart",cn.get(r)),a||(r.addEventListener("mousedown",c),r.addEventListener("touchstart",c),cn.set(r,c)),i.set(r,e),n||(n=!0)):(o.transformDraggedElement(He,Ye,e),l||Re(He,r,Qe.x,Qe.y),(w=r).style.visibility="hidden",w.setAttribute(Wt,"true"))}var w}return l(e),{update:t=>{l(t)},destroy:()=>{function e(){ln(t,an.get(t).type),an.delete(t)}var n,o;en&&!t.closest(`[${We}]`)?(n=t,o=e,rn.push({dz:n,destroy:o}),window.requestAnimationFrame((()=>{Ne(n),document.body.appendChild(n)}))):e()}}}const wn={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},bn={[wn.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[wn.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},En="dnd-action-aria-alert";let $n;function xn(){$n||($n=document.createElement("div"),$n.id=En,$n.style.position="fixed",$n.style.bottom="0",$n.style.left="0",$n.style.zIndex="-5",$n.style.opacity="0",$n.style.height="0",$n.style.width="0",$n.setAttribute("role","alert"),document.body.prepend($n),Object.entries(bn).forEach((([t,e])=>document.body.prepend(function(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(t,e)))))}function Dn(t){if(Kt)return;$n||xn(),$n.innerHTML="";const e=document.createTextNode(t);$n.appendChild(e),$n.style.display="none",$n.style.display="inline"}const _n="--any--",Tn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let On,kn,Cn,An,Sn=!1,Rn="",Ln="";const In=new WeakSet,Nn=new WeakMap,Mn=new WeakMap,Pn=new Map,jn=new Map,Bn=new Map;let Fn;function zn(t,e){0===Bn.size&&(Fn=Kt?null:("complete"===document.readyState?xn():window.addEventListener("DOMContentLoaded",xn),{...wn}),window.addEventListener("keydown",Wn),window.addEventListener("click",Un)),Bn.has(e)||Bn.set(e,new Set),Bn.get(e).has(t)||(Bn.get(e).add(t),Xt())}function Gn(t,e){kn===t&&qn(),Bn.get(e).delete(t),Vt(),0===Bn.get(e).size&&Bn.delete(e),0===Bn.size&&(window.removeEventListener("keydown",Wn),window.removeEventListener("click",Un),Fn=void 0,!Kt&&$n&&(Object.keys(bn).forEach((t=>document.getElementById(t)?.remove())),$n.remove(),$n=void 0))}function Wn(t){if(Sn&&"Escape"===t.key)qn()}function Un(){Sn&&(In.has(document.activeElement)||qn())}function Hn(t){if(!Sn)return;const e=t.currentTarget;if(e===kn)return;Rn=e.getAttribute("aria-label")||"";const{items:n}=jn.get(kn),o=n.find((t=>t[qt]===An)),i=n.indexOf(o),r=n.splice(i,1)[0],{items:s,autoAriaDisabled:a}=jn.get(e);e.getBoundingClientRect().top<kn.getBoundingClientRect().top||e.getBoundingClientRect().left<kn.getBoundingClientRect().left?(s.push(r),a||Dn(`Moved item ${Ln} to the end of the list ${Rn}`)):(s.unshift(r),a||Dn(`Moved item ${Ln} to the beginning of the list ${Rn}`));At(kn,n,{trigger:Ft.DROPPED_INTO_ANOTHER,id:An,source:zt.KEYBOARD}),At(e,s,{trigger:Ft.DROPPED_INTO_ZONE,id:An,source:zt.KEYBOARD}),kn=e}function Yn(){Pn.forEach((({update:t},e)=>t(jn.get(e))))}function qn(t=!0){jn.get(kn).autoAriaDisabled||Dn(`Stopped dragging item ${Ln}`),In.has(document.activeElement)&&document.activeElement.blur(),t&&St(kn,jn.get(kn).items,{trigger:Ft.DRAG_STOPPED,id:An,source:zt.KEYBOARD}),Pe(Bn.get(On),(t=>jn.get(t).dropTargetStyle),(t=>jn.get(t).dropTargetClasses)),Cn=null,An=null,Ln="",On=null,kn=null,Rn="",Sn=!1,Yn()}function Zn(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Tn,dropTargetClasses:[],autoAriaDisabled:!1};function o(t,e,n){t.length<=1||t.splice(n,1,t.splice(e,1,t[n])[0])}function i(e){switch(e.key){case"Enter":case" ":if((void 0!==e.target.disabled||e.target.href||e.target.isContentEditable)&&!In.has(e.target))return;e.preventDefault(),e.stopPropagation(),Sn?qn():r(e);break;case"ArrowDown":case"ArrowRight":{if(!Sn)return;e.preventDefault(),e.stopPropagation();const{items:i}=jn.get(t),r=Array.from(t.children),s=r.indexOf(e.currentTarget);s<r.length-1&&(n.autoAriaDisabled||Dn(`Moved item ${Ln} to position ${s+2} in the list ${Rn}`),o(i,s,s+1),At(t,i,{trigger:Ft.DROPPED_INTO_ZONE,id:An,source:zt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Sn)return;e.preventDefault(),e.stopPropagation();const{items:i}=jn.get(t),r=Array.from(t.children).indexOf(e.currentTarget);r>0&&(n.autoAriaDisabled||Dn(`Moved item ${Ln} to position ${r} in the list ${Rn}`),o(i,r,r-1),At(t,i,{trigger:Ft.DROPPED_INTO_ZONE,id:An,source:zt.KEYBOARD}));break}}}function r(e){!function(e){const{items:o}=jn.get(t),i=Array.from(t.children),r=i.indexOf(e);Cn=e,Cn.tabIndex=n.zoneItemTabIndex,An=o[r][qt],Ln=i[r].getAttribute("aria-label")||""}(e.currentTarget),kn=t,On=n.type,Sn=!0;const o=Array.from(Bn.get(n.type)).filter((t=>t===kn||!jn.get(t).dropFromOthersDisabled));if(Me(o,(t=>jn.get(t).dropTargetStyle),(t=>jn.get(t).dropTargetClasses)),!n.autoAriaDisabled){let t=`Started dragging item ${Ln}. Use the arrow keys to move it within its list ${Rn}`;o.length>1&&(t+=", or tab to another list in order to move the item into it"),Dn(t)}St(t,jn.get(t).items,{trigger:Ft.DRAG_STARTED,id:An,source:zt.KEYBOARD}),Yn()}function s(t){Sn&&t.currentTarget!==Cn&&(t.stopPropagation(),qn(!1),r(t))}function a({items:e=[],type:o=_n,dragDisabled:r=!1,zoneTabIndex:a=0,zoneItemTabIndex:c=0,dropFromOthersDisabled:l=!1,dropTargetStyle:d=Tn,dropTargetClasses:u=[],autoAriaDisabled:h=!1}){n.items=[...e],n.dragDisabled=r,n.dropFromOthersDisabled=l,n.zoneTabIndex=a,n.zoneItemTabIndex=c,n.dropTargetStyle=d,n.dropTargetClasses=u,n.autoAriaDisabled=h,n.type&&o!==n.type&&Gn(t,n.type),n.type=o,zn(t,o),h||(t.setAttribute("aria-disabled",r),t.setAttribute("role","list"),t.setAttribute("aria-describedby",r?Fn.DND_ZONE_DRAG_DISABLED:Fn.DND_ZONE_ACTIVE)),jn.set(t,n),t.tabIndex=Sn?t===kn||Cn.contains(t)||n.dropFromOthersDisabled||kn&&n.type!==jn.get(kn).type?-1:0:n.zoneTabIndex,t.addEventListener("focus",Hn);for(let e=0;e<t.children.length;e++){const o=t.children[e];In.add(o),o.tabIndex=Sn?-1:n.zoneItemTabIndex,h||o.setAttribute("role","listitem"),o.removeEventListener("keydown",Nn.get(o)),o.removeEventListener("click",Mn.get(o)),r||(o.addEventListener("keydown",i),Nn.set(o,i),o.addEventListener("click",s),Mn.set(o,s)),Sn&&n.items[e][qt]===An&&(Cn=o,Cn.tabIndex=n.zoneItemTabIndex,o.focus())}}a(e);const c={update:t=>{a(t)},destroy:()=>{Gn(t,n.type),jn.delete(t),Pn.delete(t)}};return Pn.set(t,c),c}function Xn(t,e){if(function(t){return!!t.closest(`[${Ut}="true"]`)}(t))return{update:()=>{},destroy:()=>{}};Vn(e);const n=vn(t,e),o=Zn(t,e);return{update:t=>{Vn(t),n.update(t),o.update(t)},destroy:()=>{n.destroy(),o.destroy()}}}function Vn(t){const{items:e,flipDurationMs:n,type:o,dragDisabled:i,morphDisabled:r,dropFromOthersDisabled:s,zoneTabIndex:a,zoneItemTabIndex:c,dropTargetStyle:l,dropTargetClasses:d,transformDraggedElement:u,autoAriaDisabled:h,centreDraggedOnCursor:f,...m}=t;if(Object.keys(m).length>0&&console.warn("dndzone will ignore unknown options",m),!e)throw new Error("no 'items' key provided to dndzone");const p=e.find((t=>!{}.hasOwnProperty.call(t,qt)));if(p)throw new Error(`missing '${qt}' property for item ${ue(p)}`);if(d&&!Array.isArray(d))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof d}, ${ue(d)}`);if(a&&!Kn(a))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof a}, ${ue(a)}`);if(c&&!Kn(c))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof c}, ${ue(c)}`)}function Kn(t){return!isNaN(t)&&(0|(e=parseFloat(t)))===e;var e}function Jn(t,e=500){const n=()=>{const n=setTimeout((()=>{t.dispatchEvent(new CustomEvent("hold")),t.removeEventListener("mousemove",o),t.removeEventListener("mouseup",o),t.removeEventListener("touchcancel",o),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",o)}),e),o=()=>{clearTimeout(n),t.removeEventListener("mousemove",o),t.removeEventListener("mouseup",o),t.removeEventListener("touchcancel",o),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",o)};t.addEventListener("mousemove",o),t.addEventListener("mouseup",o),t.addEventListener("touchcancel",o),t.addEventListener("touchend",o),t.addEventListener("touchmove",o)};return t.addEventListener("mousedown",n),t.addEventListener("touchstart",n),{destroy(){t.removeEventListener("mousedown",n),t.removeEventListener("touchstart",n)}}}const Qn="src/datetime/DatetimeBar.svelte";function to(t){let e,o,i=`drop-shadow(1px 1px 1px ${t[6]})`;const r={c:function(){e=$("div"),o=x(t[3]),lt(e,"data-testid","friendly-name"),lt(e,"class","friendly-name"),O(e,"filter",i),n(e,Qn,33,2,1201)},m:function(t,n){st(t,e,n),rt(e,o)},p:function(t,n){8&n&&dt(o,t[3]),64&n&&i!==(i=`drop-shadow(1px 1px 1px ${t[6]})`)&&O(e,"filter",i)},d:function(t){t&&at(e)}};return it("SvelteRegisterBlock",{block:r,id:to.name,type:"if",source:"(33:1) {#if shownames && !!friendlyName}",ctx:t}),r}function eo(e){let o,i,s,a,c,l=`${e[4]}%`,u=`${e[5]}px`,h=`${e[5]}px`,f=e[2]&&!!e[3]&&to(e);const m={c:function(){o=$("div"),i=$("div"),s=D(),f&&f.c(),this.c=t,lt(i,"data-testid","internal-bar"),lt(i,"class","internal-bar"),O(i,"width",l),O(i,"height",u),O(i,"background",e[6]),n(i,Qn,24,1,1013),lt(o,"data-testid","external-bar"),lt(o,"class","external-bar"),lt(o,"title","hold to reset"),O(o,"height",h),n(o,Qn,16,0,837)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){st(t,o,n),rt(o,i),rt(o,s),f&&f.m(o,null),a||(c=[d(Jn.call(null,o)),ct(o,"hold",e[12],!1,!1,!1,!1)],a=!0)},p:function(t,[e]){16&e&&l!==(l=`${t[4]}%`)&&O(i,"width",l),32&e&&u!==(u=`${t[5]}px`)&&O(i,"height",u),64&e&&O(i,"background",t[6]),t[2]&&t[3]?f?f.p(t,e):(f=to(t),f.c(),f.m(o,null)):f&&(f.d(1),f=null),32&e&&h!==(h=`${t[5]}px`)&&O(o,"height",h)},i:t,o:t,d:function(t){t&&at(o),f&&f.d(),a=!1,r(c)}};return it("SvelteRegisterBlock",{block:m,id:eo.name,type:"component",source:"",ctx:e}),m}function no(t,e,n){let o,i,r,s,a,c,{$$slots:l={},$$scope:d}=e;var u,h,f;ht("datetime-bar",l,[]);let{entity:m}=e,{hass:p}=e,{shownames:g}=e;const y=["entity","hass","shownames"];Object.keys(e).forEach((t=>{~y.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<datetime-bar> was created with unknown prop '${t}'`)}));return t.$$set=t=>{"entity"in t&&n(0,m=t.entity),"hass"in t&&n(1,p=t.hass),"shownames"in t&&n(2,g=t.shownames)},t.$capture_state=()=>({_a:u,_b:h,_c:f,hold:Jn,getState:mt,resetDate:pt,entity:m,hass:p,shownames:g,state:c,max:a,barWidth:s,friendlyName:r,barHeight:i,barColor:o}),t.$inject_state=t=>{"_a"in t&&n(7,u=t._a),"_b"in t&&n(8,h=t._b),"_c"in t&&n(9,f=t._c),"entity"in t&&n(0,m=t.entity),"hass"in t&&n(1,p=t.hass),"shownames"in t&&n(2,g=t.shownames),"state"in t&&n(10,c=t.state),"max"in t&&n(11,a=t.max),"barWidth"in t&&n(4,s=t.barWidth),"friendlyName"in t&&n(3,r=t.friendlyName),"barHeight"in t&&n(5,i=t.barHeight),"barColor"in t&&n(6,o=t.barColor)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{3&t.$$.dirty&&n(10,c=mt(p,m)),1&t.$$.dirty&&n(11,a=null==m?void 0:m.max),3072&t.$$.dirty&&n(6,o=c>=a?"#df4c1e":"#0da035"),899&t.$$.dirty&&n(3,r=null===n(9,f=null===n(8,h=null===n(7,u=null==p?void 0:p.states)||void 0===u?void 0:u[null==m?void 0:m.id])||void 0===h?void 0:h.attributes)||void 0===f?void 0:f.friendly_name),12&t.$$.dirty&&n(5,i=g&&r?18:3),3072&t.$$.dirty&&n(4,s=Math.min(Math.abs(100*c/a),100))},[m,p,g,r,s,i,o,u,h,f,c,a,t=>pt(t,p,m)]}customElements.define("datetime-bar",class extends ot{constructor(t){super();const e=document.createElement("style");e.textContent=".external-bar{position:relative;height:3px;background:#a0dea0;flex-grow:1;cursor:pointer}.internal-bar{width:0%;height:3px;max-width:100%}.friendly-name{position:absolute;top:0;margin-left:3px;color:white;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",this.shadowRoot.appendChild(e),nt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},no,eo,a,{entity:0,hass:1,shownames:2},null),t&&(t.target&&st(t.target,this,t.anchor),t.props&&(this.$set(t.props),Z()))}static get observedAttributes(){return["entity","hass","shownames"]}get entity(){return this.$$.ctx[0]}set entity(t){this.$$set({entity:t}),Z()}get hass(){return this.$$.ctx[1]}set hass(t){this.$$set({hass:t}),Z()}get shownames(){return this.$$.ctx[2]}set shownames(t){this.$$set({shownames:t}),Z()}});function oo(e){let o;const i={c:function(){o=$("ha-icon"),this.c=t,T(o,"data-testid","icon"),T(o,"icon",e[2]),T(o,"title",e[0]),O(o,"color",e[1]),n(o,"src/datetime/DatetimeIcon.svelte",13,0,925)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,e){st(t,o,e)},p:function(t,[e]){4&e&&T(o,"icon",t[2]),1&e&&T(o,"title",t[0]),2&e&&O(o,"color",t[1])},i:t,o:t,d:function(t){t&&at(o)}};return it("SvelteRegisterBlock",{block:i,id:oo.name,type:"component",source:"",ctx:e}),i}function io(t,e,n){let o,i,r,s,a,{$$slots:c={},$$scope:l}=e;var d,u,h,f,m,p;ht("datetime-icon",c,[]);let{entity:g}=e,{hass:y}=e;const v=["entity","hass"];return Object.keys(e).forEach((t=>{~v.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<datetime-icon> was created with unknown prop '${t}'`)})),t.$$set=t=>{"entity"in t&&n(3,g=t.entity),"hass"in t&&n(4,y=t.hass)},t.$capture_state=()=>({_a:d,_b:u,_c:h,_d:f,_e:m,_f:p,getState:mt,entity:g,hass:y,title:a,state:s,max:r,color:i,icon:o}),t.$inject_state=t=>{"_a"in t&&n(5,d=t._a),"_b"in t&&n(6,u=t._b),"_c"in t&&n(7,h=t._c),"_d"in t&&n(8,f=t._d),"_e"in t&&n(9,m=t._e),"_f"in t&&n(10,p=t._f),"entity"in t&&n(3,g=t.entity),"hass"in t&&n(4,y=t.hass),"title"in t&&n(0,a=t.title),"state"in t&&n(11,s=t.state),"max"in t&&n(12,r=t.max),"color"in t&&n(1,i=t.color),"icon"in t&&n(2,o=t.icon)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{248&t.$$.dirty&&n(2,o=null===n(7,h=null===n(6,u=null===n(5,d=null==y?void 0:y.states)||void 0===d?void 0:d[null==g?void 0:g.id])||void 0===u?void 0:u.attributes)||void 0===h?void 0:h.icon),24&t.$$.dirty&&n(11,s=mt(y,g)),8&t.$$.dirty&&n(12,r=null==g?void 0:g.max),6144&t.$$.dirty&&n(1,i=s>=r?"#df4c1e":"#44739e"),1816&t.$$.dirty&&n(0,a=null===n(10,p=null===n(9,m=null===n(8,f=null==y?void 0:y.states)||void 0===f?void 0:f[null==g?void 0:g.id])||void 0===m?void 0:m.attributes)||void 0===p?void 0:p.friendly_name)},[a,i,o,g,y,d,u,h,f,m,p,s,r]}customElements.define("datetime-icon",class extends ot{constructor(t){super(),nt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},io,oo,a,{entity:3,hass:4},null),t&&(t.target&&st(t.target,this,t.anchor),t.props&&(this.$set(t.props),Z()))}static get observedAttributes(){return["entity","hass"]}get entity(){return this.$$.ctx[3]}set entity(t){this.$$set({entity:t}),Z()}get hass(){return this.$$.ctx[4]}set hass(t){this.$$set({hass:t}),Z()}});function ro(e){let o,i,s,a;const c={c:function(){o=$("div"),i=x(e[2]),this.c=t,lt(o,"data-testid","days"),lt(o,"title","hold to reset"),n(o,"src/datetime/DatetimeLabel.svelte",9,0,265)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){st(t,o,n),rt(o,i),s||(a=[d(Jn.call(null,o)),ct(o,"hold",e[3],!1,!1,!1,!1)],s=!0)},p:function(t,[e]){4&e&&dt(i,t[2])},i:t,o:t,d:function(t){t&&at(o),s=!1,r(a)}};return it("SvelteRegisterBlock",{block:c,id:ro.name,type:"component",source:"",ctx:e}),c}function so(t,e,n){let o,{$$slots:i={},$$scope:r}=e;ht("datetime-label",i,[]);let{entity:s}=e,{hass:a}=e;const c=["entity","hass"];Object.keys(e).forEach((t=>{~c.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<datetime-label> was created with unknown prop '${t}'`)}));return t.$$set=t=>{"entity"in t&&n(0,s=t.entity),"hass"in t&&n(1,a=t.hass)},t.$capture_state=()=>({getState:mt,resetDate:pt,hold:Jn,entity:s,hass:a,label:o}),t.$inject_state=t=>{"entity"in t&&n(0,s=t.entity),"hass"in t&&n(1,a=t.hass),"label"in t&&n(2,o=t.label)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{3&t.$$.dirty&&n(2,o=`${mt(a,s)} days`)},[s,a,o,t=>pt(t,a,s)]}function ao(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||t.dispatchEvent(new CustomEvent("clickoutside"))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function co(){const t=j(),e=function(){const t=j();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=k(e,n,{cancelable:o});return i.slice().forEach((e=>{e.call(t,r)})),!r.defaultPrevented}return!0}}();return(n,o)=>{e(n,o),t.dispatchEvent(new CustomEvent(n,{detail:o}))}}customElements.define("datetime-label",class extends ot{constructor(t){super();const e=document.createElement("style");e.textContent="div{white-space:nowrap;cursor:pointer}",this.shadowRoot.appendChild(e),nt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},so,ro,a,{entity:0,hass:1},null),t&&(t.target&&st(t.target,this,t.anchor),t.props&&(this.$set(t.props),Z()))}static get observedAttributes(){return["entity","hass"]}get entity(){return this.$$.ctx[0]}set entity(t){this.$$set({entity:t}),Z()}get hass(){return this.$$.ctx[1]}set hass(t){this.$$set({hass:t}),Z()}});const lo="src/DatetimeCardAutocomplete.svelte";function uo(t,e,n){const o=t.slice();return o[11]=e[n].primaryText,o[12]=e[n].secondaryText,o[0]=e[n].value,o}function ho(t){let e,o,i,s=t[3].clientWidth-2+"px",a=t[2];ut(a);let c=[];for(let e=0;e<a.length;e+=1)c[e]=mo(uo(t,a,e));const l={c:function(){e=$("ul");for(let t=0;t<c.length;t+=1)c[t].c();lt(e,"class","items-list"),O(e,"width",s),n(e,lo,52,4,1610)},m:function(n,r){st(n,e,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);o||(i=[d(ao.call(null,e)),ct(e,"clickoutside",t[5],!1,!1,!1,!1)],o=!0)},p:function(t,n){if(68&n){let o;for(a=t[2],ut(a),o=0;o<a.length;o+=1){const i=uo(t,a,o);c[o]?c[o].p(i,n):(c[o]=mo(i),c[o].c(),c[o].m(e,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=a.length}8&n&&s!==(s=t[3].clientWidth-2+"px")&&O(e,"width",s)},d:function(t){t&&at(e),E(c,t),o=!1,r(i)}};return it("SvelteRegisterBlock",{block:l,id:ho.name,type:"if",source:"(52:0) {#if filteredItems.length > 0 && value !== filteredItems[0].value}",ctx:t}),l}function fo(t){let e,o=t[12]+"";const i={c:function(){e=$("span"),lt(e,"class","secondary-text"),n(e,lo,62,20,2018)},m:function(t,n){st(t,e,n),e.innerHTML=o},p:function(t,n){4&n&&o!==(o=t[12]+"")&&(e.innerHTML=o)},d:function(t){t&&at(e)}};return it("SvelteRegisterBlock",{block:i,id:fo.name,type:"if",source:"(62:16) {#if !!secondaryText}",ctx:t}),i}function mo(t){let e,o,i,r,s,a,c=t[11]+"",l=!!t[12]&&fo(t);function d(){return t[9](t[0])}const u={c:function(){e=$("li"),o=$("span"),i=D(),l&&l.c(),r=D(),lt(o,"class","primary-text"),n(o,lo,60,16,1906),lt(e,"class","item"),n(e,lo,59,12,1839)},m:function(t,n){st(t,e,n),rt(e,o),o.innerHTML=c,rt(e,i),l&&l.m(e,null),rt(e,r),s||(a=ct(e,"click",d,!1,!1,!1,!1),s=!0)},p:function(n,i){t=n,4&i&&c!==(c=t[11]+"")&&(o.innerHTML=c),t[12]?l?l.p(t,i):(l=fo(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null)},d:function(t){t&&at(e),l&&l.d(),s=!1,a()}};return it("SvelteRegisterBlock",{block:u,id:mo.name,type:"each",source:"(59:8) {#each filteredItems as { primaryText, secondaryText, value }}",ctx:t}),u}function po(e){let o,i,r,s,a,c=e[2].length>0&&e[0]!==e[2][0].value&&ho(e);const l={c:function(){o=$("ha-textfield"),i=D(),c&&c.c(),r=x(""),this.c=t,T(o,"data-testid","text-field"),T(o,"label",e[1]),T(o,"value",e[0]),n(o,lo,43,0,1420)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){st(t,o,n),e[8](o),st(t,i,n),c&&c.m(t,n),st(t,r,n),s||(a=ct(o,"input",e[4],!1,!1,!1,!1),s=!0)},p:function(t,[e]){2&e&&T(o,"label",t[1]),1&e&&T(o,"value",t[0]),t[2].length>0&&t[0]!==t[2][0].value?c?c.p(t,e):(c=ho(t),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i:t,o:t,d:function(t){t&&at(o),e[8](null),t&&at(i),c&&c.d(t),t&&at(r),s=!1,a()}};return it("SvelteRegisterBlock",{block:l,id:po.name,type:"component",source:"",ctx:e}),l}function go(t,e){var n;return{primaryText:t.primaryText.replace(e,(t=>`<strong>${t}</strong>`)),secondaryText:null===(n=t.secondaryText)||void 0===n?void 0:n.replace(e,(t=>`<strong>${t}</strong>`)),value:t.value}}function yo(t,e){return e.test(t.primaryText)||e.test(t.secondaryText)}function vo(t,e,n){let{$$slots:o={},$$scope:i}=e;ht("datetime-card-autocomplete",o,[]);let{items:r=[]}=e,{label:s=""}=e,{value:a=""}=e;const c=co();let l,d=[];function u({target:t}){n(0,a=t.value),c("change",{value:a});const e=a.trim().replace(/[\-\[\]\/{}()*+?.\\^$|]/g,"\\$&");if(e.length<3)return void n(2,d=[]);const o=new RegExp(e,"gi");n(2,d=r.filter((t=>yo(t,o))).map((t=>go(t,o))))}function h(){setTimeout((()=>n(2,d=[])),100)}function f(t){c("change",{value:t})}const m=["items","label","value"];Object.keys(e).forEach((t=>{~m.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<datetime-card-autocomplete> was created with unknown prop '${t}'`)}));return t.$$set=t=>{"items"in t&&n(7,r=t.items),"label"in t&&n(1,s=t.label),"value"in t&&n(0,a=t.value)},t.$capture_state=()=>({clickoutside:ao,createEventDispatcher:co,items:r,label:s,value:a,svelteDispatch:c,filteredItems:d,textfield:l,filter:u,highlightMatch:go,test:yo,reset:h,complete:f}),t.$inject_state=t=>{"items"in t&&n(7,r=t.items),"label"in t&&n(1,s=t.label),"value"in t&&n(0,a=t.value),"filteredItems"in t&&n(2,d=t.filteredItems),"textfield"in t&&n(3,l=t.textfield)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[a,s,d,l,u,h,f,r,function(t){F[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},t=>f(t)]}customElements.define("datetime-card-autocomplete",class extends ot{constructor(t){super();const e=document.createElement("style");e.textContent=":host{flex-grow:1;height:56px}ha-textfield{width:100%}.items-list{margin:0;padding:0;position:relative;z-index:1;border-left:1px solid var(--input-outlined-idle-border-color);border-right:1px solid var(--input-outlined-idle-border-color);border-bottom:1px solid var(--input-outlined-idle-border-color)}.item{display:flex;flex-direction:column;list-style:none;padding:10px 10px 10px 25px;cursor:pointer;background-color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.item:hover{background-color:var(--mdc-text-field-fill-color, whitesmoke)}.primary-text{color:var(--mdc-dialog-content-ink-color, rgba(0, 0, 0, 0.6))}.secondary-text{font-size:0.9em;color:var(--mdc-text-field-label-ink-color, rgba(0, 0, 0, 0.6))}",this.shadowRoot.appendChild(e),nt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},vo,po,a,{items:7,label:1,value:0},null),t&&(t.target&&st(t.target,this,t.anchor),t.props&&(this.$set(t.props),Z()))}static get observedAttributes(){return["items","label","value"]}get items(){return this.$$.ctx[7]}set items(t){this.$$set({items:t}),Z()}get label(){return this.$$.ctx[1]}set label(t){this.$$set({label:t}),Z()}get value(){return this.$$.ctx[0]}set value(t){this.$$set({value:t}),Z()}});class wo{constructor(t){this.key=t,this.id="",this.max="",this.key=t}}function bo(t){const e=t-1;return e*e*e+1}function Eo(t,{from:e,to:n},o={}){const i=getComputedStyle(t),r="none"===i.transform?"":i.transform,[a,c]=i.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*a/n.width-(n.left+a),d=e.top+e.height*c/n.height-(n.top+c),{delay:u=0,duration:h=(t=>120*Math.sqrt(t)),easing:f=bo}=o;return{delay:u,duration:s(h)?h(Math.sqrt(l*l+d*d)):h,easing:f,css:(t,o)=>{const i=o*l,s=o*d,a=t+o*e.width/n.width,c=t+o*e.height/n.height;return`transform: ${r} translate(${i}px, ${s}px) scale(${a}, ${c});`}}}const{Object:$o}=g,xo="src/DatetimeCardEditor.svelte";function Do(t,e,n){const o=t.slice();return o[34]=e[n],o[36]=n,o}function _o(t){let e,o,i,r,s;function a(){return t[26](t[34])}const c={c:function(){e=$("ha-icon-button"),o=$("ha-icon"),T(o,"icon","mdi:delete"),n(o,xo,227,5,5971),T(e,"data-testid",i="delete-"+t[36]),n(e,xo,223,4,5869)},m:function(t,n){st(t,e,n),rt(e,o),r||(s=ct(e,"click",a,!1,!1,!1,!1),r=!0)},p:function(n,o){t=n,4&o[0]&&i!==(i="delete-"+t[36])&&T(e,"data-testid",i)},d:function(t){t&&at(e),r=!1,s()}};return it("SvelteRegisterBlock",{block:c,id:_o.name,type:"if",source:"(223:3) {#if draggableEntities.length > 1}",ctx:t}),c}function To(e,o){let i,s,a,c,l,d,u,h,f,m,p,g,y,v,w,b,E=t;function x(...t){return o[24](o[34],...t)}function _(...t){return o[25](o[34],...t)}let O=o[2].length>1&&_o(o);const k={key:e,first:null,c:function(){i=$("div"),s=$("ha-icon"),c=D(),l=$("datetime-card-autocomplete"),h=D(),f=$("ha-textfield"),g=D(),O&&O.c(),y=D(),T(s,"data-testid",a="handle-"+o[36]),T(s,"class","handle"),T(s,"icon","mdi:drag"),n(s,xo,196,3,5240),T(l,"data-testid",d="datetime-card-autocomplete-"+o[36]),T(l,"label","Entity"),T(l,"items",o[7]),T(l,"value",u=o[34].id),n(l,xo,206,3,5443),T(f,"data-testid",m="max-"+o[36]),T(f,"class","max-textfield"),T(f,"label","Max"),T(f,"value",p=o[34].max),n(f,xo,214,3,5658),lt(i,"role","listitem"),lt(i,"class","entity"),n(i,xo,191,2,5144),this.first=i},m:function(t,e){st(t,i,e),rt(i,s),rt(i,c),rt(i,l),rt(i,h),rt(i,f),rt(i,g),O&&O.m(i,null),rt(i,y),w||(b=[ct(s,"mousedown",o[13],!1,!1,!1,!1),ct(s,"touchstart",o[13],{passive:!0},!1,!1,!1),ct(s,"mouseup",o[14],!1,!1,!1,!1),ct(s,"touchend",o[14],{passive:!0},!1,!1,!1),ct(l,"change",x,!1,!1,!1,!1),ct(f,"input",_,!1,!1,!1,!1)],w=!0)},p:function(t,e){o=t,4&e[0]&&a!==(a="handle-"+o[36])&&T(s,"data-testid",a),4&e[0]&&d!==(d="datetime-card-autocomplete-"+o[36])&&T(l,"data-testid",d),128&e[0]&&T(l,"items",o[7]),4&e[0]&&u!==(u=o[34].id)&&T(l,"value",u),4&e[0]&&m!==(m="max-"+o[36])&&T(f,"data-testid",m),4&e[0]&&p!==(p=o[34].max)&&T(f,"value",p),o[2].length>1?O?O.p(o,e):(O=_o(o),O.c(),O.m(i,y)):O&&(O.d(1),O=null)},r:function(){v=i.getBoundingClientRect()},f:function(){M(i),E()},a:function(){E(),E=N(i,v,Eo,{duration:ko})},d:function(t){t&&at(i),O&&O.d(),w=!1,r(b)}};return it("SvelteRegisterBlock",{block:k,id:To.name,type:"each",source:"(191:1) {#each draggableEntities as entity, index (entity.key)}",ctx:o}),k}function Oo(e){let o,i,a,c,l,u,h,f,m,p,g,y,v,w,b,E,x,_,O,k,C,A,S,R,L,I,N,M=[],P=new Map,j=e[2];ut(j);const B=t=>t[34].key;Q(e,j,Do,B);for(let t=0;t<j.length;t+=1){let n=Do(e,j,t),o=B(n);P.set(o,M[t]=To(o,n))}const F={c:function(){o=$("ha-textfield"),i=D(),a=$("ha-textfield"),c=D(),l=$("section"),u=$("ha-switch"),h=D(),f=$("label"),f.textContent="Show names",m=D(),p=$("ha-switch"),g=D(),y=$("label"),y.textContent="Column",v=D(),w=$("ha-switch"),b=D(),E=$("label"),E.textContent="Reverse",x=D(),_=$("h3"),_.textContent="Entities (required)",O=D(),k=$("section");for(let t=0;t<M.length;t+=1)M[t].c();A=D(),S=$("div"),R=$("ha-icon-button"),L=$("ha-icon"),this.c=t,T(o,"data-testid","title"),T(o,"label","Title (optional)"),T(o,"value",e[6]),n(o,xo,136,0,4131),T(a,"data-testid","image"),T(a,"label","Image (optional)"),T(a,"value",e[4]),n(a,xo,143,0,4235),T(u,"id","show-names-switch"),T(u,"aria-label","Show names"),T(u,"checked",e[5]),n(u,xo,151,1,4367),lt(f,"for","show-names-switch"),n(f,xo,157,1,4487),T(p,"id","column-switch"),T(p,"aria-label","Column"),T(p,"checked",e[0]),n(p,xo,159,1,4539),lt(y,"for","column-switch"),n(y,xo,165,1,4644),T(w,"id","reverse-switch"),T(w,"aria-label","Reverse"),T(w,"checked",e[1]),n(w,xo,167,1,4688),lt(E,"for","reverse-switch"),n(E,xo,173,1,4797),lt(l,"class","switches"),n(l,xo,150,0,4339),n(_,xo,176,0,4853),lt(k,"data-testid","entities"),lt(k,"class","entities"),n(k,xo,178,0,4883),T(L,"icon","mdi:plus"),n(L,xo,235,2,6148),T(R,"data-testid","plus"),T(R,"class","plus"),n(R,xo,234,1,6081),lt(S,"class","plus"),n(S,xo,233,0,6061)},l:function(t){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(t,n){st(t,o,n),st(t,i,n),st(t,a,n),st(t,c,n),st(t,l,n),rt(l,u),rt(l,h),rt(l,f),rt(l,m),rt(l,p),rt(l,g),rt(l,y),rt(l,v),rt(l,w),rt(l,b),rt(l,E),st(t,x,n),st(t,_,n),st(t,O,n),st(t,k,n);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(k,null);st(t,A,n),st(t,S,n),rt(S,R),rt(R,L),I||(N=[ct(o,"input",e[21],!1,!1,!1,!1),ct(a,"input",e[17],!1,!1,!1,!1),ct(u,"change",e[20],!1,!1,!1,!1),ct(p,"change",e[15],!1,!1,!1,!1),ct(w,"change",e[19],!1,!1,!1,!1),d(C=Xn.call(null,k,{items:e[2],dragDisabled:e[3],dropTargetStyle:e[8],flipDurationMs:ko})),ct(k,"consider",e[9],!1,!1,!1,!1),ct(k,"finalize",e[10],!1,!1,!1,!1),ct(R,"click",e[11],!1,!1,!1,!1)],I=!0)},p:function(t,e){if(64&e[0]&&T(o,"value",t[6]),16&e[0]&&T(a,"value",t[4]),32&e[0]&&T(u,"checked",t[5]),1&e[0]&&T(p,"checked",t[0]),2&e[0]&&T(w,"checked",t[1]),356484&e[0]){j=t[2],ut(j);for(let t=0;t<M.length;t+=1)M[t].r();Q(t,j,Do,B),M=function(t,e,n,o,i,s,a,c,l,d,u,h){let f=t.length,m=s.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const y=[],v=new Map,w=new Map,b=[];for(p=m;p--;){const t=h(i,s,p),r=n(t);let c=a.get(r);c?o&&b.push((()=>c.p(t,e))):(c=d(r,t),c.c()),v.set(r,y[p]=c),r in g&&w.set(r,Math.abs(p-g[r]))}const E=new Set,$=new Set;function x(t){K(t,1),t.m(c,u),a.set(t.key,t),u=t.first,m--}for(;f&&m;){const e=y[m-1],n=t[f-1],o=e.key,i=n.key;e===n?(u=e.first,f--,m--):v.has(i)?!a.has(o)||E.has(o)?x(e):$.has(i)?f--:w.get(o)>w.get(i)?($.add(o),x(e)):(E.add(i),f--):(l(n,a),f--)}for(;f--;){const e=t[f];v.has(e.key)||l(e,a)}for(;m;)x(y[m-1]);return r(b),y}(M,e,B,1,t,j,P,k,J,To,null,Do);for(let t=0;t<M.length;t+=1)M[t].a()}C&&s(C.update)&&12&e[0]&&C.update.call(null,{items:t[2],dragDisabled:t[3],dropTargetStyle:t[8],flipDurationMs:ko})},i:t,o:t,d:function(t){t&&at(o),t&&at(i),t&&at(a),t&&at(c),t&&at(l),t&&at(x),t&&at(_),t&&at(O),t&&at(k);for(let t=0;t<M.length;t+=1)M[t].d();t&&at(A),t&&at(S),I=!1,r(N)}};return it("SvelteRegisterBlock",{block:F,id:Oo.name,type:"component",source:"",ctx:e}),F}const ko=200;function Co({id:t,max:e}){return{id:t,max:parseInt(e)||0}}function Ao(t,e,n){let o,{$$slots:i={},$$scope:r}=e;ht("datetime-card-editor",i,[]);let{hass:s}=e;function a(t){var e,o;n(2,g=O(t.entities)),n(5,u=t.show_names||!1),n(0,f=null===(e=t.flex_direction)||void 0===e?void 0:e.includes("column")),n(1,m=null===(o=t.flex_direction)||void 0===o?void 0:o.includes("reverse")),n(4,d=t.image||""),n(6,h=t.title||"")}const c={outline:"var(--primary-color) solid 2px"},l=co();let d,u,h,f=!1,m=!1,p=0,g=[new wo(E())],y=!0;function v(t){n(2,g=t.detail.items)}function w(){const t=g.map(Co);l("config-changed",{config:{entities:t,flex_direction:(f?"column":"row")+(m?"-reverse":""),image:d,show_names:u,title:h,type:"custom:datetime-card"}})}function b(t){n(2,g=t.detail.items),n(3,y=!0),w()}function E(){return p++}function $(){n(2,g=[...g,new wo(E())])}function x(t){n(2,g=g.filter((({key:e})=>e!==t))),w()}function D(){g.length<2||n(3,y=!1)}function _(){n(3,y=!0)}function T(t){return{primaryText:s.states[t].attributes.friendly_name,secondaryText:t,value:t}}function O(t){if(!t)return[new wo(E())];if(t.length!==g.length)return t.map(k);const e=[...g];for(let n=0;n<t.length;n++){const o=t[n].max>0?t[n].max.toString():"";e[n].id=t[n].id,e[n].max=o}return e}function k({id:t,max:e}){return{id:t,key:E(),max:e>0?e.toString():""}}function C(t){n(0,f=t.target.checked),w()}function A(t,e){e.id=t.detail.value,w()}function S(t){n(4,d=t.target.value),w()}function R(t,e){const n=Number(t.target.value);!Number.isInteger(n)||n<0?t.target.value=e.max:(t.target.value=n.toString(),e.max=n.toString(),w())}function L(t){n(1,m=t.target.checked),w()}function I(t){n(5,u=t.target.checked),w()}function N(t){n(6,h=t.target.value),w()}const M=["hass"];$o.keys(e).forEach((t=>{~M.indexOf(t)||"$$"===t.slice(0,2)||"slot"===t||console.warn(`<datetime-card-editor> was created with unknown prop '${t}'`)}));return t.$$set=t=>{"hass"in t&&n(22,s=t.hass)},t.$capture_state=()=>({createEventDispatcher:co,dndzone:Xn,DraggableEntity:wo,flip:Eo,hass:s,setConfig:a,dropTargetStyle:c,flipDurationMs:ko,svelteDispatch:l,column:f,reverse:m,key:p,draggableEntities:g,dragDisabled:y,image:d,show_names:u,title:h,consider:v,dispatchConfigChanged:w,finalize:b,newKey:E,push:$,splice:x,startDrag:D,stopDrag:_,toAutocompleteItem:T,toDraggableEntities:O,toDraggableEntity:k,toEntity:Co,updateColumn:C,updateId:A,updateImage:S,updateMax:R,updateReverse:L,updateShowNames:I,updateTitle:N,autocompleteItems:o}),t.$inject_state=t=>{"hass"in t&&n(22,s=t.hass),"column"in t&&n(0,f=t.column),"reverse"in t&&n(1,m=t.reverse),"key"in t&&(p=t.key),"draggableEntities"in t&&n(2,g=t.draggableEntities),"dragDisabled"in t&&n(3,y=t.dragDisabled),"image"in t&&n(4,d=t.image),"show_names"in t&&n(5,u=t.show_names),"title"in t&&n(6,h=t.title),"autocompleteItems"in t&&n(7,o=t.autocompleteItems)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{4194304&t.$$.dirty[0]&&n(7,o=Object.keys((null==s?void 0:s.states)||{}).filter((t=>t.startsWith("input_datetime"))).map((t=>T(t))))},[f,m,g,y,d,u,h,o,c,v,b,$,x,D,_,C,A,S,R,L,I,N,s,a,(t,e)=>A(e,t),(t,e)=>R(e,t),t=>x(t.key)]}customElements.define("datetime-card-editor",class extends ot{constructor(t){super();const e=document.createElement("style");e.textContent=":host{display:flex;flex-direction:column}ha-textfield{margin-top:3px;margin-bottom:5px}.switches{margin-top:10px;margin-top:15px}ha-switch{margin-left:30px}.entity{display:flex;align-items:center;margin-bottom:5px}.handle{padding-right:8px;cursor:grab;width:32px}.max-textfield{margin-left:5px;max-width:60px}.plus{display:flex;justify-content:flex-end}",this.shadowRoot.appendChild(e),nt(this,{target:this.shadowRoot,props:C(this.attributes),customElement:!0},Ao,Oo,a,{hass:22,setConfig:23},null,[-1,-1]),t&&(t.target&&st(t.target,this,t.anchor),t.props&&(this.$set(t.props),Z()))}static get observedAttributes(){return["hass","setConfig"]}get hass(){return this.$$.ctx[22]}set hass(t){this.$$set({hass:t}),Z()}get setConfig(){return this.$$.ctx[23]}set setConfig(t){throw new Error("<datetime-card-editor>: Cannot set read-only property 'setConfig'")}}),window.customCards=window.customCards||[],window.customCards.push({type:"datetime-card",name:"Datetime Card",preview:!0,description:"Datetime card"}),Ot.getConfigElement=()=>document.createElement("datetime-card-editor"),function(t){if(Zt>0)throw new Error("can only override the id key before initialising any dndzone");if("string"!=typeof t)throw new Error("item id key has to be a string");qt=t}("key")}();
//# sourceMappingURL=datetime-card.js.map
